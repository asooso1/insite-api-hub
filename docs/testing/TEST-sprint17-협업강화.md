# Sprint 17 - 협업강화 기능 테스트 체크리스트

## 테스트 개요

Sprint 17에서 구현된 API 협업 강화 기능을 검증합니다. 실시간 협업 기능, 상태 관리, 리뷰 워크플로우, 그리고 고급 알림 기능을 포함합니다.

**테스트 환경**: http://localhost:3005

---

## 1. COLLAB-01: 실시간 협업 강화

### 1.1 API 소유자(Owner) 지정 및 변경

#### 1.1.1 소유자 지정 기능

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 1 | 소유자 정보 조회 | 엔드포인트 상세 페이지 접근 | owner_id, owner_name, owner_contact 필드 표시 | [ ] |
| 2 | 소유자 설정 폼 렌더링 | 프로젝트 관리자 권한으로 접근 | "소유자 지정" 폼/버튼 표시 | [ ] |
| 3 | 소유자 변경 가능 여부 | 비관리자 사용자로 시도 | 편집 버튼 disabled 또는 숨겨짐 | [ ] |
| 4 | 소유자 DB 저장 | updateEndpointOwner 호출 | endpoints 테이블의 owner_id, owner_name 업데이트 | [ ] |

#### 1.1.2 소유자 변경 알림

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 5 | 신규 소유자 알림 | 사용자 A → 사용자 B로 소유자 변경 | B에게 '담당자로 지정됨' 알림 생성 | [ ] |
| 6 | 이전 소유자 알림 | 기존 소유자가 있는 상태에서 변경 | 이전 소유자에게 '담당 변경됨' 알림 | [ ] |
| 7 | Watch 구독자 알림 | 엔드포인트 구독자 5명 + 소유자 변경 | 신규 소유자와 이전 소유자 제외한 3명에게 알림 | [ ] |
| 8 | 알림 내용 검증 | 알림 팝업 열기 | 엔드포인트 경로, 새 소유자명 포함 | [ ] |
| 9 | 활동 로그 기록 | activity 테이블 조회 | ENDPOINT_MODIFIED 타입의 로그 생성 (previousOwnerId, newOwnerId 메타데이터 포함) | [ ] |

#### 1.1.3 소유자 변경 안내 배지

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 10 | OwnerBadge 렌더링 | 엔드포인트 카드에서 소유자 영역 확인 | "담당: [소유자명]" 배지 표시 | [ ] |
| 11 | 소유자 없을 때 표시 | owner_id가 null인 엔드포인트 | 배지 미표시 또는 "미할당" 표시 | [ ] |
| 12 | 소유자 정보 갱신 | 소유자 변경 후 페이지 새로고침 | 새 소유자명으로 배지 업데이트 | [ ] |

---

### 1.2 API 상태 관리 (Draft/Review/Approved/Deprecated)

#### 1.2.1 상태 전환 기능

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 13 | 상태 전환 버튼 표시 | 엔드포인트 상세 페이지 | "Draft", "Review 중", "승인됨", "폐기" 버튼 표시 | [ ] |
| 14 | Draft → Review | Draft 상태에서 "Review 중"으로 변경 | 상태 업데이트, UI 즉시 반영 | [ ] |
| 15 | Review → Approved | Review 상태에서 "승인됨" 변경 | 상태 업데이트, 배지 색상 변경 (초록색) | [ ] |
| 16 | Approved → Deprecated | Approved에서 "폐기" 변경 | 상태 업데이트, 배지 색상 변경 (빨간색) | [ ] |
| 17 | 상태 권한 검증 | 비관리자가 상태 변경 시도 | 버튼 disabled 또는 오류 메시지 표시 | [ ] |
| 18 | DB 저장 확인 | updateEndpointStatus 실행 | endpoints 테이블의 status 필드 업데이트 | [ ] |

#### 1.2.2 상태별 통계 대시보드

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 19 | 상태별 엔드포인트 개수 조회 | MyApiDashboard 접근 | Draft: X, Review: Y, Approved: Z, Deprecated: W 표시 | [ ] |
| 20 | 통계 정확성 | DB에서 GROUP BY status로 개수 확인 | UI의 숫자와 DB의 COUNT(*)가 일치 | [ ] |
| 21 | 상태 필터링 | "검토 중" 필터 선택 | Review 상태의 엔드포인트만 표시 | [ ] |
| 22 | 통계 카드 렌더링 | 대시보드의 Status 카드들 | 각 상태별 아이콘(📝/⏳/✅/🗑️) + 개수 표시 | [ ] |

#### 1.2.3 EndpointStatusBadge 컴포넌트

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 23 | Draft 배지 스타일 | 상태: draft | 회색(slate) 배경 + FileEdit 아이콘 | [ ] |
| 24 | Review 배지 스타일 | 상태: review | 주황색(amber) 배경 + Clock 아이콘 | [ ] |
| 25 | Approved 배지 스타일 | 상태: approved | 초록색(green) 배경 + CheckCircle 아이콘 | [ ] |
| 26 | Deprecated 배지 스타일 | 상태: deprecated | 빨강색(rose) 배경 + Archive 아이콘 | [ ] |
| 27 | 다크모드 색상 | 다크모드에서 각 상태 확인 | 각 상태의 다크모드 색상이 정확히 적용 | [ ] |

---

### 1.3 리뷰 요청 워크플로우

#### 1.3.1 리뷰 요청 생성

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 28 | 리뷰 요청 폼 열기 | 엔드포인트 상세페이지 → "리뷰 요청" 버튼 | ReviewRequestPanel 모달/패널 표시 | [ ] |
| 29 | 폼 필드 렌더링 | 리뷰 요청 폼 확인 | title, description, reviewerId 필드 표시 | [ ] |
| 30 | 리뷰어 목록 조회 | 리뷰어 드롭다운 클릭 | 프로젝트 팀원 목록 표시 | [ ] |
| 31 | 리뷰 요청 제출 | title 입력 + 리뷰어 선택 + 제출 | review_requests 테이블에 레코드 생성 | [ ] |
| 32 | 필수 필드 검증 | title 없이 제출 시도 | "제목은 필수입니다" 오류 메시지 | [ ] |
| 33 | 성공 메시지 | 리뷰 요청 생성 성공 | "리뷰 요청을 생성했습니다" 토스트 메시지 | [ ] |

#### 1.3.2 리뷰 요청 목록

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 34 | 리뷰 요청 목록 표시 | ReviewRequestPanel mode='list' | 상태별 리뷰 요청 목록 표시 | [ ] |
| 35 | 요청자 정보 표시 | 각 리뷰 요청 카드 | 요청자명, 요청 시간, 제목 표시 | [ ] |
| 36 | 상태 배지 표시 | 각 요청의 상태 확인 | pending/approved/rejected/cancelled 배지 | [ ] |
| 37 | 필터링 기능 | 엔드포인트별/상태별 필터 | 선택된 필터에 맞는 요청만 표시 | [ ] |
| 38 | 빈 목록 처리 | 리뷰 요청이 없는 경우 | "리뷰 요청이 없습니다" 메시지 표시 | [ ] |

#### 1.3.3 리뷰 승인/거절

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 39 | 승인 버튼 표시 | pending 상태의 리뷰 요청 | "승인" 버튼 표시 (리뷰어만 보임) | [ ] |
| 40 | 거절 버튼 표시 | pending 상태의 리뷰 요청 | "거절" 버튼 표시 (리뷰어만 보임) | [ ] |
| 41 | 승인 처리 | "승인" 버튼 클릭 | status: approved, resolved_at: CURRENT_TIMESTAMP 저장 | [ ] |
| 42 | 거절 처리 | "거절" 버튼 클릭 + 의견 입력 | status: rejected, comment 저장 | [ ] |
| 43 | 의견(Comment) 저장 | 거절/승인 시 comment 입력 | review_requests.comment에 저장 | [ ] |
| 44 | 엔드포인트 상태 자동 업데이트 | 리뷰 승인 시 | endpoints.status: 'approved'로 자동 변경 | [ ] |

#### 1.3.4 리뷰 요청 취소

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 45 | 취소 버튼 표시 | 본인이 요청한 pending 상태 | "취소" 버튼 표시 | [ ] |
| 46 | 취소 처리 | "취소" 버튼 클릭 | status: cancelled, 목록에서 제거됨 | [ ] |
| 47 | 취소 권한 | 다른 사용자의 요청 취소 시도 | 버튼 비활성화 또는 오류 메시지 | [ ] |

#### 1.3.5 리뷰 요청 알림

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 48 | 리뷰어에게 알림 | 리뷰 요청 생성 시 | 리뷰어에게 'REVIEW_REQUEST' 알림 생성 | [ ] |
| 49 | 알림 내용 | 알림 팝업 열기 | "요청자명님이 리뷰를 요청했습니다" 메시지 | [ ] |
| 50 | 승인 알림 | 리뷰 승인 | 요청자에게 'REVIEW_APPROVED' 알림 | [ ] |
| 51 | 거절 알림 | 리뷰 거절 | 요청자에게 'REVIEW_REJECTED' 알림 | [ ] |

---

### 1.4 인라인 코멘트 개선

#### 1.4.1 스레드 코멘트

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 52 | 코멘트 작성 폼 | 엔드포인트 상세페이지 → "코멘트 추가" | 텍스트 입력 필드 + 제출 버튼 표시 | [ ] |
| 53 | 기본 코멘트 저장 | 코멘트 입력 + 제출 | api_comments 테이블에 저장 (parent_id: null) | [ ] |
| 54 | 코멘트 목록 표시 | 엔드포인트의 코멘트 조회 | 작성된 모든 코멘트 시간순 표시 | [ ] |
| 55 | 답글 버튼 표시 | 기존 코멘트 | "답글" 버튼 표시 | [ ] |
| 56 | 스레드 코멘트 작성 | "답글" → 텍스트 입력 + 제출 | 자식 코멘트 생성 (parent_id 설정) | [ ] |
| 57 | 스레드 표시 | 부모 코멘트 아래 자식 코멘트 | 들여쓰기/네스팅으로 시각적 구분 | [ ] |

#### 1.4.2 코멘트 편집

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 58 | 편집 버튼 표시 | 본인이 작성한 코멘트 | "편집" 버튼 표시 | [ ] |
| 59 | 편집 불가 | 다른 사용자의 코멘트 | "편집" 버튼 비활성화 | [ ] |
| 60 | 편집 폼 열기 | "편집" 버튼 클릭 | 기존 텍스트 입력 필드에 표시 | [ ] |
| 61 | 편집 저장 | 텍스트 수정 + 저장 | api_comments.content 업데이트, updated_at 갱신 | [ ] |
| 62 | 편집 취소 | 편집 중 "취소" 클릭 | 폼 닫기, 원문 유지 | [ ] |

#### 1.4.3 @멘션 기능

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 63 | @멘션 입력 감지 | 코멘트에 "@" 입력 | 사용자 목록 오토컴플릿 드롭다운 표시 | [ ] |
| 64 | 멘션 대상 선택 | 목록에서 사용자 선택 | "@[사용자명]" 형태로 텍스트 삽입 | [ ] |
| 65 | 멘션된 사용자 알림 | 코멘트 저장 시 @멘션 포함 | 멘션된 사용자에게 알림 생성 | [ ] |
| 66 | 멘션 알림 내용 | 알림 팝업 확인 | "요청자님이 당신을 언급했습니다" + 코멘트 내용 | [ ] |
| 67 | 멘션 링크 | 알림에서 클릭 | 해당 코멘트 위치로 스크롤/이동 | [ ] |

---

### 1.5 팀별/내 담당 API 대시보드

#### 1.5.1 "내 담당 API" 대시보드

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 68 | 대시보드 접근 | 좌측 네비게이션 또는 프로필 메뉴 → "내 API" | MyApiDashboard 컴포넌트 렌더링 | [ ] |
| 69 | 소유 엔드포인트 조회 | 대시보드 로드 | 현재 사용자가 owner_id인 엔드포인트 목록 | [ ] |
| 70 | 상태별 통계 | 대시보드 상단의 통계 카드 | Draft/Review/Approved/Deprecated 개수 표시 | [ ] |
| 71 | 전체 엔드포인트 개수 | 통계 섹션 | 모든 상태의 엔드포인트 합계 표시 | [ ] |
| 72 | 미해결 질문 개수 | 대시보드 카드 | 본인의 엔드포인트에 달린 미해결 코멘트 개수 | [ ] |

#### 1.5.2 필터링 및 정렬

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 73 | 상태 필터 | 상태 필터 버튼 클릭 (Draft/Review 등) | 선택된 상태의 엔드포인트만 표시 | [ ] |
| 74 | "미해결 질문만" 필터 | 토글 활성화 | 미해결 코멘트가 있는 엔드포인트만 표시 | [ ] |
| 75 | 최신순 정렬 | "최신순" 정렬 옵션 선택 | synced_at 기준 내림차순 정렬 | [ ] |
| 76 | 이름순 정렬 | "이름순" 정렬 옵션 선택 | path 기준 오름차순 정렬 | [ ] |

#### 1.5.3 엔드포인트 카드 레이아웃

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 77 | 카드 구조 | 엔드포인트 카드 표시 | 경로, 메소드, 상태, 미해결 코멘트 수, 액션 버튼 | [ ] |
| 78 | 메소드 배지 | 카드에서 HTTP 메소드 확인 | GET/POST/PUT/DELETE 등 색상 구분 | [ ] |
| 79 | 상태 배지 | 카드의 상태 표시 | EndpointStatusBadge 컴포넌트로 올바른 색상 | [ ] |
| 80 | 미해결 코멘트 표시 | 미해결 코멘트가 있는 경우 | "질문: X개" 배지 표시 | [ ] |
| 81 | 상세보기 버튼 | 카드의 "상세보기" 또는 클릭 | 엔드포인트 상세 페이지로 이동 | [ ] |

#### 1.5.4 팀 멤버별 통계

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 82 | 팀원 통계 섹션 | "팀 현황" 또는 "팀원별 담당" 섹션 | 팀원명, 담당 엔드포인트 개수 표시 | [ ] |
| 83 | 팀원별 상태 분포 | 팀원 통계 카드 | 각 팀원의 Draft/Review/Approved/Deprecated 개수 | [ ] |
| 84 | 팀원 클릭 | 팀원 카드 클릭 | 해당 팀원의 담당 엔드포인트 목록 필터링 | [ ] |
| 85 | 빈 팀원 처리 | 팀원이 없는 경우 | "팀원 정보가 없습니다" 또는 숨김 | [ ] |

---

## 2. COLLAB-02: 알림 시스템 고도화

### 2.1 알림 설정 UI

#### 2.1.1 알림 설정 페이지 접근

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 86 | 설정 페이지 접근 | 좌측 네비게이션 → "설정" 또는 프로필 메뉴 | 알림 설정 페이지 로드 | [ ] |
| 87 | 알림 설정 탭 | 설정 페이지의 탭/섹션 | "알림 설정" 탭 표시 | [ ] |
| 88 | 설정 페이지 로그인 필수 | 비로그인 상태에서 접근 | 로그인 페이지로 리다이렉트 | [ ] |

#### 2.1.2 알림 유형별 토글

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 89 | "API 변경 알림" 토글 | 토글 클릭 | notification_preferences.api_change ON/OFF 저장 | [ ] |
| 90 | "리뷰 요청 알림" 토글 | 토글 클릭 | notification_preferences.review_request ON/OFF 저장 | [ ] |
| 91 | "코멘트 알림" 토글 | 토글 클릭 | notification_preferences.comment ON/OFF 저장 | [ ] |
| 92 | "Breaking Change 알림" 토글 | 토글 클릭 | notification_preferences.breaking_change ON/OFF 저장 | [ ] |
| 93 | "다이제스트 알림" 토글 | 토글 클릭 | digest_settings.enabled ON/OFF 저장 | [ ] |
| 94 | 토글 상태 유지 | 페이지 새로고침 | 이전 설정 유지 | [ ] |

#### 2.1.3 설정 저장 및 피드백

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 95 | 설정 변경 시 저장 표시 | 토글/옵션 변경 | "저장 중..." → "저장됨" 표시 | [ ] |
| 96 | 에러 처리 | 네트워크 끊고 설정 변경 | "저장 실패" 오류 메시지 + 재시도 버튼 | [ ] |
| 97 | 자동 저장 | 토글 변경 후 5초 | 자동으로 DB에 저장 | [ ] |

---

### 2.2 Breaking Change 자동 알림

#### 2.2.1 Breaking Change 감지

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 98 | 필드 제거 감지 | 요청/응답 필드 삭제 | Breaking Change 감지: "필드 제거" | [ ] |
| 99 | 필드 타입 변경 감지 | string → number로 변경 | Breaking Change 감지: "타입 변경" | [ ] |
| 100 | 필수 필드 추가 감지 | 요청에 required 필드 추가 | Breaking Change 감지: "필수 필드 추가" | [ ] |
| 101 | HTTP 메소드 변경 감지 | GET → POST로 변경 | Breaking Change 감지: "메소드 변경" | [ ] |
| 102 | 경로 변경 감지 | /api/v1/users → /api/v2/users | Breaking Change 감지: "경로 변경" | [ ] |

#### 2.2.2 Breaking Change 알림 생성

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 103 | 프로젝트 Owner 알림 | Breaking Change 발생 | project.owner_id에게 'API_CHANGE' 알림 | [ ] |
| 104 | Watch 구독자 알림 | 엔드포인트 구독자 3명 + Breaking Change | 3명 모두에게 알림 (영향받은 사용자) | [ ] |
| 105 | 엔드포인트 Owner 알림 | endpoint.owner_id가 설정된 경우 | 엔드포인트 Owner에게도 알림 | [ ] |
| 106 | 알림 제목 | 알림 팝업 | "⚠️ Breaking Change: GET /api/users" 형식 | [ ] |
| 107 | 알림 메시지 | 알림 상세 | 변경 사항 요약 + 각 변경 내용 나열 | [ ] |

#### 2.2.3 Breaking Change 활동 로그

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 108 | 활동 로그 기록 | Breaking Change 감지 | endpoint_activity 테이블에 'BREAKING_CHANGE_DETECTED' 기록 | [ ] |
| 109 | 메타데이터 저장 | 활동 로그의 metadata | breakingChangesCount, 각 변경 내용 JSON 저장 | [ ] |
| 110 | 활동 로그 조회 | 엔드포인트 활동 히스토리 | Breaking Change 로그 표시 + 상세 정보 | [ ] |

---

### 2.3 이메일 알림 연동

#### 2.3.1 이메일 설정

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 111 | 이메일 알림 토글 | 설정 페이지의 "이메일로 받기" 토글 | notification_preferences.email_enabled ON/OFF | [ ] |
| 112 | 이메일 주소 확인 | 설정 페이지 | 사용자의 등록된 이메일 주소 표시 | [ ] |
| 113 | 이메일 변경 | 새로운 이메일 입력 후 저장 | users.email 업데이트 (이메일 인증 필요 여부 확인) | [ ] |

#### 2.3.2 이메일 전송 테스트

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 114 | 테스트 이메일 전송 | "테스트 이메일 전송" 버튼 | 등록된 이메일로 테스트 메일 수신 | [ ] |
| 115 | 이메일 템플릿 | 수신한 테스트 이메일 | 헤더, 내용, 푸터 등 시각적 레이아웃 적절 | [ ] |
| 116 | 이메일 링크 | 이메일의 "자세히 보기" 링크 | 클릭 시 해당 엔드포인트/알림 페이지로 이동 | [ ] |

---

### 2.4 일일 다이제스트 알림

#### 2.4.1 다이제스트 설정 (Sprint 17-다이제스트알림에서 상세 테스트)

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 117 | 다이제스트 활성화 토글 | 설정 → "다이제스트" → 활성화 토글 | digest_settings.enabled: true 저장 | [ ] |
| 118 | 발송 빈도 선택 | "매일" 또는 "매주" 선택 | digest_settings.frequency 저장 | [ ] |
| 119 | 발송 시간 설정 | 시간 선택 (예: 09:00) | digest_settings.send_time 저장 | [ ] |
| 120 | 포함 내용 선택 | 각 토글 (새 댓글, API 변경, 테스트 실패, 리뷰 요청) | digest_settings의 include_* 필드 저장 | [ ] |

#### 2.4.2 다이제스트 내용

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 121 | 새 댓글 포함 | 지난 24시간 내 새 댓글 작성 후 다이제스트 | "새 댓글" 섹션에 댓글 목록 | [ ] |
| 122 | API 변경 포함 | 지난 24시간 내 API 변경 후 다이제스트 | "API 변경" 섹션에 변경 내역 | [ ] |
| 123 | 테스트 실패 포함 | 지난 24시간 내 테스트 실패 후 다이제스트 | "테스트 실패" 섹션에 실패 목록 | [ ] |
| 124 | 리뷰 요청 포함 | 지난 24시간 내 리뷰 요청 후 다이제스트 | "리뷰 요청" 섹션에 요청 목록 | [ ] |

#### 2.4.3 다이제스트 전송

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 125 | Cron API 호출 | `GET /api/cron/daily-digest?secret=...` | 모든 활성화 사용자에게 다이제스트 알림 생성 | [ ] |
| 126 | 이메일 발송 | 다이제스트 알림 생성 → 이메일 활성화 사용자 | 이메일 받은편지함에 다이제스트 메일 수신 | [ ] |
| 127 | 알림 메시지 | 다이제스트 알림 | "지난 24시간 동안 X개의 업데이트가 있습니다." 메시지 | [ ] |

---

## 3. 통합 테스트

### 3.1 전체 협업 플로우

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 128 | 시나리오: 새 API 등록 및 리뷰 | 1. API 등록(Draft) 2. 담당자 지정 3. 리뷰 요청 4. 승인 | 모든 단계 완료, 각 단계별 알림 생성 | [ ] |
| 129 | 시나리오: Breaking Change 처리 | 1. API 변경(Breaking Change) 2. 알림 생성 3. 사용자 확인 4. 리뷰 | Owner/구독자 알림, 활동 로그 모두 기록 | [ ] |
| 130 | 시나리오: 코멘트 기반 협업 | 1. API 상세페이지 2. 코멘트 작성 3. @멘션 4. 답글 | 스레드 생성, 멘션된 사용자 알림 | [ ] |
| 131 | 시나리오: 일일 다이제스트 | 1. 다이제스트 활성화 2. 이메일 설정 3. 이벤트 발생 4. Cron 실행 | 다이제스트 알림 + 이메일 수신 | [ ] |

### 3.2 권한 및 보안

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 132 | 상태 변경 권한 | 일반 사용자가 상태 변경 시도 | 버튼 disabled 또는 403 오류 | [ ] |
| 133 | 리뷰어만 응답 | 리뷰어가 아닌 사용자가 응답 시도 | 버튼 미표시 또는 오류 | [ ] |
| 134 | 코멘트 편집 권한 | 다른 사용자의 코멘트 편집 시도 | 편집 버튼 비활성화 | [ ] |
| 135 | 리뷰 취소 권한 | 요청자가 아닌 사용자가 취소 시도 | 취소 버튼 비활성화 | [ ] |

### 3.3 성능 및 확장성

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 136 | 대량 알림 생성 | Breaking Change + 100명 구독자 | 모든 사용자에게 알림 생성 (성능 저하 없음) | [ ] |
| 137 | 다중 스레드 코멘트 | 깊이 5단계의 네스팅 | 모든 계층 올바르게 표시 | [ ] |
| 138 | 대시보드 로딩 | 1000개 엔드포인트 + 통계 | 3초 이내 로드 | [ ] |

---

## 4. 데이터베이스 스키마 검증

### 4.1 필수 테이블 및 컬럼

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 139 | endpoints 테이블 | `\d endpoints` | owner_id, owner_name, owner_contact, status (draft/review/approved/deprecated) 컬럼 | [ ] |
| 140 | review_requests 테이블 | `\d review_requests` | id, endpoint_id, requester_id, reviewer_id, status, title, description, comment, created_at, resolved_at 컬럼 | [ ] |
| 141 | api_comments 테이블 | `\d api_comments` | id, endpoint_id, user_id, content, parent_id, created_at, updated_at 컬럼 | [ ] |
| 142 | notification_preferences 테이블 | `\d notification_preferences` | user_id, api_change, review_request, comment, breaking_change, email_enabled 컬럼 | [ ] |
| 143 | digest_settings 테이블 | `\d digest_settings` | user_id, enabled, frequency, send_time, include_* 컬럼 | [ ] |
| 144 | endpoint_watchers 테이블 | `\d endpoint_watchers` | endpoint_id, user_id, created_at (UNIQUE constraint) | [ ] |

### 4.2 인덱스 확인

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|------------|------------|----------|------|
| 145 | review_requests 인덱스 | `\d review_requests` | idx_review_requests_endpoint_id, idx_review_requests_reviewer_id 인덱스 존재 | [ ] |
| 146 | api_comments 인덱스 | `\d api_comments` | idx_api_comments_endpoint_id, idx_api_comments_parent_id 인덱스 존재 | [ ] |
| 147 | endpoints 인덱스 | `\d endpoints` | idx_endpoints_owner_id, idx_endpoints_status 인덱스 존재 | [ ] |

---

## 5. 브라우저 호환성 및 UI/UX

### 5.1 브라우저 테스트

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|-----------|-----------|----------|------|
| 148 | Chrome 최신 버전 | 모든 기능 테스트 | 모든 기능 정상 작동 | [ ] |
| 149 | Firefox 최신 버전 | 모든 기능 테스트 | 모든 기능 정상 작동 | [ ] |
| 150 | Safari 최신 버전 | 모든 기능 테스트 | 모든 기능 정상 작동 | [ ] |
| 151 | Edge 최신 버전 | 모든 기능 테스트 | 모든 기능 정상 작동 | [ ] |

### 5.2 반응형 디자인

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|-----------|-----------|----------|------|
| 152 | 모바일 (375px) | 대시보드, 리스트, 상세페이지 | 모든 요소 적절히 축소/재배치 | [ ] |
| 153 | 태블릿 (768px) | 대시보드, 리스트, 상세페이지 | 2칼럼 레이아웃 적용 | [ ] |
| 154 | 데스크톱 (1920px) | 대시보드, 리스트, 상세페이지 | 전체 레이아웃 정상 표시 | [ ] |

### 5.3 다크모드

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|-----------|-----------|----------|------|
| 155 | 다크모드 토글 | 상단 우측 다크모드 버튼 클릭 | 라이트/다크 테마 전환 | [ ] |
| 156 | 배지 색상 (다크) | 다크모드에서 모든 배지 확인 | 상태/메소드/멘션 배지 색상 적절 | [ ] |
| 157 | 텍스트 대비 | 다크모드에서 텍스트 가독성 | WCAG AA 이상 명도 대비 | [ ] |

---

## 6. 문서화 검증

| # | 테스트 항목 | 테스트 절차 | 예상 결과 | 통과 |
|---|-----------|-----------|----------|------|
| 158 | README 업데이트 | README.md 확인 | 협업강화 기능 설명 추가 | [ ] |
| 159 | API 문서 업데이트 | docs/API.md 또는 Swagger | 새로운 엔드포인트/액션 문서화 | [ ] |
| 160 | 코드 주석 | 주요 파일의 주석 확인 | 함수/로직에 명확한 한글 주석 | [ ] |

---

## 테스트 완료 기준

- [ ] 모든 체크리스트 항목 검토 완료
- [ ] 콘솔에 에러 로그 없음
- [ ] DB 스키마 정상 확인
- [ ] UI가 모든 주요 브라우저에서 정상 작동
- [ ] 권한 및 보안 테스트 통과
- [ ] 성능 테스트 통과
- [ ] 문서화 완료

---

## 발견된 이슈

| 번호 | 이슈 설명 | 심각도 | 상태 | 담당자 |
|------|-----------|--------|------|--------|
| 1    |           |        |      |        |
| 2    |           |        |      |        |
| 3    |           |        |      |        |

---

## 테스트 실행 정보

- **테스트 일자**:
- **테스터**:
- **환경**:
  - 서버: http://localhost:3005
  - DB: PostgreSQL (포트 7000)
  - 브라우저:
- **결과**: ⬜ 통과 / ⬜ 실패

---

## 참고 자료

### 주요 파일

| 파일 | 설명 |
|------|------|
| `src/app/actions/owner.ts` | API 소유자 지정/변경 액션 |
| `src/app/actions/endpoint-status.ts` | 엔드포인트 상태 관리 액션 |
| `src/app/actions/review-request.ts` | 리뷰 요청 워크플로우 액션 |
| `src/app/actions/comment.ts` | 코멘트 및 스레드 액션 |
| `src/app/actions/breaking-change-notification.ts` | Breaking Change 알림 액션 |
| `src/app/actions/team-dashboard.ts` | 팀 대시보드 데이터 액션 |
| `src/components/dashboard/MyApiDashboard.tsx` | 내 담당 API 대시보드 UI |
| `src/components/ReviewRequestPanel.tsx` | 리뷰 요청 패널 UI |
| `src/components/EndpointStatusBadge.tsx` | 상태 배지 컴포넌트 |
| `src/components/OwnerBadge.tsx` | 소유자 배지 컴포넌트 |

### 데이터베이스

```bash
# DB 접속
psql postgresql://apihub:apihub_password@localhost:7000/apihub

# 테이블 확인
\dt                          # 모든 테이블 목록
\d endpoints                 # endpoints 스키마
\d review_requests          # review_requests 스키마
\d api_comments             # api_comments 스키마
```

### 테스트 URL

- **로컬**: http://localhost:3005
- **설정**: http://localhost:3005/settings
- **대시보드**: http://localhost:3005/dashboard
- **프로젝트**: http://localhost:3005/projects/[projectId]

### 주요 환경 변수

```
DATABASE_URL=postgresql://apihub:apihub_password@insite-db:5432/apihub
APP_BASE_URL=http://localhost:3005
CRON_SECRET=your_cron_secret_here
```

---

## 추가 테스트 팁

### 테스트 데이터 준비

```bash
# 테스트 사용자 생성
- 사용자 A: 프로젝트 Owner
- 사용자 B: API Owner (담당자)
- 사용자 C: Reviewer
- 사용자 D: Watcher (구독자)

# 테스트 엔드포인트 생성
- GET /api/users (Draft 상태)
- POST /api/users (Review 상태)
- PUT /api/users/{id} (Approved 상태)
- DELETE /api/users/{id} (Deprecated 상태)
```

### 콘솔 로그 확인

```bash
# 서버 로그 보기
sudo docker logs insite-api-app -f

# DB 로그 보기
sudo docker logs insite-api-db -f
```

### 네트워크 탭 확인

브라우저의 개발자 도구 → Network 탭에서:
- API 요청/응답 확인
- 상태 코드 (200, 400, 401, 403, 500 등)
- 요청/응답 본문 검증

---

**작성일**: 2026-02-03
**버전**: 1.0
