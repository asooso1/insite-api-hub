# π€ API Hub: Enterprise API Management Platform

Spring 2.x λ§μ΄ν¬λ΅μ„λΉ„μ¤μ API λ…μ„Έλ¥Ό μλ™μΌλ΅ μ¶”μ¶ν•κ³ , λ³µμ΅ν• DTO/VO κµ¬μ΅°λ¥Ό λ¬΄μ ν• κ³„μΈµμΌλ΅ μ‹κ°ν™”ν•λ©°, ν”„λ΅ νΈμ—”λ“ ν‘μ—…μ„ μ„ν• ν†µν•© λ„κµ¬λ¥Ό μ κ³µν•λ” μ—”ν„°ν”„λΌμ΄μ¦κΈ‰ ν”λ«νΌμ…λ‹λ‹¤.

## β¨ μ£Όμ” κΈ°λ¥

### π” μ¤λ§νΈ API λ¶„μ„
- **μλ™ μ¶”μ¶**: Git μ €μ¥μ†λ¥Ό λ¶„μ„ν•μ—¬ Spring Controllerμ λ¨λ“  μ—”λ“ν¬μΈνΈλ¥Ό μλ™μΌλ΅ λ°κ²¬
- **μ¬κ·€μ  DTO νμ‹±**: `List<UserDTO>` κ°™μ€ μ λ„¤λ¦­ νƒ€μ…μ„ ν¬ν•¨ν• λ¬΄μ ν• κ³„μΈµ κµ¬μ΅° λ¶„μ„
- **μ‹¤μ‹κ°„ μ‹κ°ν™”**: μ•„μ½”λ””μ–Έ λ°©μ‹μΌλ΅ κ° APIμ Request/Response λ¨λΈμ„ νΈλ¦¬ κµ¬μ΅°λ΅ νƒμƒ‰

### π§ ν†µν•© API ν…μ¤ν„°
- **μλ™ νμ΄λ΅λ“ μƒμ„±**: μ„ νƒν• APIμ VO κµ¬μ΅°μ— λ§λ” μƒν” JSONμ„ μλ™μΌλ΅ μƒμ„±
- **λ‹¤μ¤‘ ν™κ²½ μ§€μ›**: DEV, STG, PRD ν™κ²½λ³„λ΅ μ„λ²„ μ„¤μ •μ„ κ΄€λ¦¬ν•κ³  μ¦‰μ‹ ν…μ¤νΈ

### π PostgreSQL & Docker
- **μ™„μ „ν• λ°μ΄ν„° μμ†μ„±**: λ΅μ»¬ λλ” μ›κ²© PostgreSQL λ°μ΄ν„°λ² μ΄μ¤ μ§€μ›
- **μ›ν΄λ¦­ λ°°ν¬**: Docker Composeλ¥Ό ν†µν• ν†µν•© λ°°ν¬ (App + DB)
- **μ»¤μ¤ν…€ ν¬νΈ**: κΈ°λ³Έ ν¬νΈ μ¶©λ λ°©μ§€ (DB: 7000, App: 3000)

### π›  ν‘μ—… λ„κµ¬
- **Excel λ‚΄λ³΄λ‚΄κΈ°**: μ „μ²΄ API λ…μ„Έλ¥Ό μ—‘μ…€ νμΌλ΅ λ‹¤μ΄λ΅λ“
- **TypeScript νƒ€μ… μƒμ„±**: DTOλ¥Ό TypeScript μΈν„°νμ΄μ¤λ΅ μλ™ λ³€ν™
- **Dooray μ—°λ™**: API λ³€κ²½μ‚¬ν•­μ„ NHN Doorayλ΅ μ•λ¦Ό

## π“‹ μ‚¬μ „ μ”κµ¬ μ‚¬ν•­

### λ΅μ»¬ κ°λ°
- **Node.js**: v20 μ΄μƒ
- **Git**: μ €μ¥μ† ν΄λ΅ μ„ μ„ν•΄ ν•„μ”
- **PostgreSQL**: Docker μ‚¬μ© μ‹ μλ™ μ„¤μΉ

### μ›κ²© λ°°ν¬
- **Docker**: v20.10 μ΄μƒ
- **Docker Compose**: v2.0 μ΄μƒ

## π€ λΉ λ¥Έ μ‹μ‘

### λ΅μ»¬ κ°λ° ν™κ²½

```bash
# 1. μ €μ¥μ† ν΄λ΅ 
git clone https://github.com/asooso1/insite-api-hub.git
cd insite-api-hub

# 2. μμ΅΄μ„± μ„¤μΉ
npm install

# 3. PostgreSQL μ‹μ‘ (Docker)
docker-compose up -d db

# 4. κ°λ° μ„λ²„ μ‹¤ν–‰
npm run dev
```

λΈλΌμ°μ €μ—μ„ [http://localhost:3000](http://localhost:3000)μΌλ΅ μ ‘μ†ν•μ„Έμ”.

### μ›κ²© μ„λ²„ λ°°ν¬ (Docker)

```bash
# 1. μ €μ¥μ† ν΄λ΅ 
git clone https://github.com/asooso1/insite-api-hub.git
cd insite-api-hub

# 2. μ›ν΄λ¦­ λ°°ν¬
sh deploy.sh
```

λ°°ν¬ μ™„λ£ ν›„:
- **App**: http://your-server-ip:3000
- **DB**: your-server-ip:7000 (μ™Έλ¶€ μ ‘μ†μ©)

## π― μ‚¬μ© κ°€μ΄λ“

### 1. API κ°€μ Έμ¤κΈ°
1. λ€μ‹λ³΄λ“μ **"κ°„νΈ API λ¶„μ„"** μ„Ήμ…μΌλ΅ μ΄λ™
2. Spring ν”„λ΅μ νΈμ **Git URL**κ³Ό **λΈλμΉ**λ¥Ό μ…λ ¥
3. **"API λ¶„μ„ λ° κ°€μ Έμ¤κΈ°"** ν΄λ¦­
4. λ¶„μ„ μ™„λ£ ν›„ μλ™μΌλ΅ API λ©λ΅μ΄ ν‘μ‹λ©λ‹λ‹¤

### 2. API μƒμ„Έ ν™•μΈ
- API λ©λ΅μ—μ„ μ›ν•λ” μ—”λ“ν¬μΈνΈλ¥Ό **ν΄λ¦­**
- Request Bodyμ™€ Responseμ **VO κµ¬μ΅°**κ°€ νΈλ¦¬ ν•νƒλ΅ νΌμ³μ§‘λ‹λ‹¤
- μ¤‘μ²©λ κ°μ²΄λ” ν΄λ¦­ν•μ—¬ κ³„μ† νƒμƒ‰ν•  μ μμµλ‹λ‹¤

### 3. API ν…μ¤νΈ
1. μ‚¬μ΄λ“λ°”μ—μ„ **"API ν†µν•© ν…μ¤νΈ"** μ„ νƒ
2. ν…μ¤νΈν•  μ—”λ“ν¬μΈνΈ μ„ νƒ
3. ν™κ²½(DEV/STG/PRD) μ„ νƒ
4. **μλ™ μƒμ„±λ JSON νμ΄λ΅λ“** ν™•μΈ λ° μμ •
5. **"μ”μ²­ μ „μ†΅"** ν΄λ¦­ν•μ—¬ μ‘λ‹µ ν™•μΈ

### 4. ν™κ²½ μ„¤μ •
1. μ‚¬μ΄λ“λ°”μ—μ„ **"ν™κ²½ λ° μ„λ²„ μ„¤μ •"** μ„ νƒ
2. κ° ν™κ²½(DEV/STG/PRD)μ μ„λ²„ URL, μΈμ¦ ν† ν° μ…λ ¥
3. Dooray μ›Ήν›… URL μ„¤μ • (μ„ νƒμ‚¬ν•­)
4. **"μ„¤μ • μ €μ¥"** ν΄λ¦­

## π— ν”„λ΅μ νΈ κµ¬μ΅°

```
insite-api-hub/
β”β”€β”€ src/
β”‚   β”β”€β”€ app/
β”‚   β”‚   β”β”€β”€ actions/          # Server Actions
β”‚   β”‚   β”‚   β”β”€β”€ import-repo.ts    # Git λ¶„μ„ λ° DB μ €μ¥
β”‚   β”‚   β”‚   β””β”€β”€ save-env.ts       # ν™κ²½ μ„¤μ • μ €μ¥
β”‚   β”‚   β””β”€β”€ page.tsx          # λ©”μΈ νμ΄μ§€
β”‚   β”β”€β”€ components/
β”‚   β”‚   β”β”€β”€ ApiList.tsx       # API λ©λ΅ + μƒμ„Έ μ•„μ½”λ””μ–Έ
β”‚   β”‚   β”β”€β”€ ApiTester.tsx     # ν†µν•© ν…μ¤ν„°
β”‚   β”‚   β”β”€β”€ ApiModelTree.tsx  # μ¬κ·€μ  DTO νΈλ¦¬
β”‚   β”‚   β””β”€β”€ EnvironmentManager.tsx
β”‚   β””β”€β”€ lib/
β”‚       β”β”€β”€ db.ts             # PostgreSQL ν΄λΌμ΄μ–ΈνΈ
β”‚       β”β”€β”€ data-service.ts   # λ°μ΄ν„° μ΅°ν μ„λΉ„μ¤
β”‚       β”β”€β”€ parser/
β”‚       β”‚   β””β”€β”€ spring-parser.ts  # Java νμ„ μ—”μ§„
β”‚       β””β”€β”€ utils/
β”‚           β”β”€β”€ json-generator.ts # μƒν” JSON μƒμ„±
β”‚           β”β”€β”€ excel-export.ts
β”‚           β””β”€β”€ ts-generator.ts
β”β”€β”€ Dockerfile                # Next.js μ•± μ΄λ―Έμ§€
β”β”€β”€ docker-compose.yml        # ν†µν•© λ°°ν¬ μ„¤μ •
β”β”€β”€ init.sql                  # DB μ΄κΈ°ν™” μ¤ν¬λ¦½νΈ
β””β”€β”€ deploy.sh                 # μ›ν΄λ¦­ λ°°ν¬ μ¤ν¬λ¦½νΈ
```

## π”§ ν™κ²½ λ³€μ

`.env` νμΌμ„ μƒμ„±ν•κ³  λ‹¤μ λ³€μλ¥Ό μ„¤μ •ν•μ„Έμ”:

```env
# PostgreSQL μ—°κ²° (λ΅μ»¬)
DATABASE_URL="postgresql://apihub:apihub_password@localhost:7000/apihub"

# PostgreSQL μ—°κ²° (Docker λ‚΄λ¶€)
DATABASE_URL="postgresql://apihub:apihub_password@db:5432/apihub"
```

## π³ Docker λ…λ Ήμ–΄

```bash
# μ „μ²΄ μ‹μ¤ν… μ‹μ‘ (App + DB)
docker-compose up -d

# DBλ§ μ‹μ‘
docker-compose up -d db

# λ΅κ·Έ ν™•μΈ
docker-compose logs -f

# μ¤‘μ§€
docker-compose down

# λ°μ΄ν„° ν¬ν•¨ μ™„μ „ μ‚­μ 
docker-compose down -v
```

## π›  κ°λ° λ…λ Ήμ–΄

```bash
# κ°λ° μ„λ²„ (Hot Reload)
npm run dev

# ν”„λ΅λ•μ… λΉλ“
npm run build

# ν”„λ΅λ•μ… μ„λ²„ μ‹¤ν–‰
npm start

# λ¦°νΈ κ²€μ‚¬
npm run lint
```

## π“ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§

μ£Όμ” ν…μ΄λΈ”:
- **projects**: ν”„λ΅μ νΈ μ •λ³΄
- **endpoints**: API μ—”λ“ν¬μΈνΈ λ©λ΅
- **api_models**: DTO/VO λ¨λΈ (JSONB ν•„λ“λ΅ κ³„μΈµ κµ¬μ΅° μ €μ¥)
- **environments**: μ„λ²„ ν™κ²½ μ„¤μ • (DEV/STG/PRD)

μμ„Έν• μ¤ν‚¤λ§λ” `init.sql` νμΌμ„ μ°Έμ΅°ν•μ„Έμ”.

## π” λ³΄μ• κ³ λ ¤μ‚¬ν•­

- ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” `.env` νμΌμ λΉ„λ°€λ²νΈλ¥Ό λ°λ“μ‹ λ³€κ²½ν•μ„Έμ”
- PostgreSQL μ™Έλ¶€ ν¬νΈ(7000)λ” λ°©ν™”λ²½μΌλ΅ λ³΄νΈν•λ” κ²ƒμ„ κ¶μ¥ν•©λ‹λ‹¤
- μΈμ¦ ν† ν°μ€ μ•”νΈν™”λμ–΄ μ €μ¥λμ§€ μ•μΌλ―€λ΅ μ£Όμν•μ„Έμ”

## π§ μ•λ ¤μ§„ μ ν•μ‚¬ν•­

- ν„μ¬ Spring 2.xλ§ μ§€μ› (Spring 3.xλ” μ¶”ν›„ μ§€μ› μμ •)
- Git ν΄λ΅  μ‹ λ€μ©λ‰ μ €μ¥μ†λ” μ‹κ°„μ΄ μ†μ”λ  μ μμµλ‹λ‹¤
- μ‹¤μ  HTTP μ”μ²­μ€ μ•„μ§ μ‹λ®¬λ μ΄μ… λ¨λ“μ…λ‹λ‹¤ (μ¶”ν›„ μ—…λ°μ΄νΈ μμ •)

## π“ λΌμ΄μ„ μ¤

Β© 2026 API Hub Team. All rights reserved.

## π¤ κΈ°μ—¬

μ΄μ λ° ν’€ λ¦¬ν€μ¤νΈλ” μ–Έμ λ‚ ν™μν•©λ‹λ‹¤!

---

**Built with**: Next.js 16 (Canary) β€Ά PostgreSQL 15 β€Ά Docker β€Ά TypeScript
